import Coins, { fetchCoins } from "../redux/currency/currency";

const initial = {
  crypto: [
    {
      id: 'bitcoin',
      rank: '1',
      symbol: 'BTC',
      name: 'Bitcoin',
      supply: '19112662.0000000000000000',
      maxSupply: '21000000.0000000000000000',
      market_cap: '445180865185.8254211638251988',
      total_volume: '11841956934.6538346800865460',
      current_price: '23292.4573869315232574',
      price_change_24h: '0.6295951140453583',
      high_24h: '22826.5722017126501557',
    },
    {
      id: 'ethereum',
      rank: '2',
      symbol: 'ETH',
      name: 'Ethereum',
      supply: '121835120.3740000000000000',
      maxSupply: null,
      market_cap: '203437383523.3771949399148894',
      total_volume: '7459665905.1208617551558567',
      current_price: '1669.7761934233815225',
      price_change_24h: '1.3577660947251823',
      high_24h: '1618.6205349924146983',
    },
    {
      id: 'tether',
      rank: '3',
      symbol: 'USDT',
      name: 'Tether',
      supply: '66476525454.8642300000000000',
      maxSupply: null,
      market_cap: '66467817918.9303148407441894',
      total_volume: '20653519888.8002536350350573',
      current_price: '0.9998690133716476',
      price_change_24h: '-0.0141945452235292',
      high_24h: '1.0002853662594098',
    },
    {
      id: 'usd-coin',
      rank: '4',
      symbol: 'USDC',
      name: 'USD Coin',
      supply: '54199364133.4828950000000000',
      maxSupply: null,
      market_cap: '54120501076.0668238294481782',
      total_volume: '1635220408.8384388188357418',
      current_price: '0.9985449449697999',
      price_change_24h: '-0.0955211532641779',
      high_24h: '1.0003508009482778',
    },
    {
      id: 'binance-coin',
      rank: '5',
      symbol: 'BNB',
      name: 'BNB',
      supply: '166801148.0000000000000000',
      maxSupply: '166801148.0000000000000000',
      market_cap: '52439674534.8611545591519616',
      total_volume: '591371669.9838112001717634',
      current_price: '314.3843742302130592',
      price_change_24h: '3.2112136798991749',
      high_24h: '306.8679752615906443',
    },
  ],
};

describe('Check if the reducer works properly', () => {
  const loadedCoin = [
    {
      id: 'bitcoin',
      rank: '1',
      symbol: 'BTC',
      name: 'Bitcoin',
      supply: '19112662.0000000000000000',
      maxSupply: '21000000.0000000000000000',
      market_cap: '445180865185.8254211638251988',
      total_volume: '11841956934.6538346800865460',
      current_price: '23292.4573869315232574',
      price_change_24h: '0.6295951140453583',
      high_24h: '22826.5722017126501557',
    },
    {
      id: 'ethereum',
      rank: '2',
      symbol: 'ETH',
      name: 'Ethereum',
      supply: '121835120.3740000000000000',
      maxSupply: null,
      market_cap: '203437383523.3771949399148894',
      total_volume: '7459665905.1208617551558567',
      current_price: '1669.7761934233815225',
      price_change_24h: '1.3577660947251823',
      high_24h: '1618.6205349924146983',
    },
    {
      id: 'tether',
      rank: '3',
      symbol: 'USDT',
      name: 'Tether',
      supply: '66476525454.8642300000000000',
      maxSupply: null,
      market_cap: '66467817918.9303148407441894',
      total_volume: '20653519888.8002536350350573',
      current_price: '0.9998690133716476',
      price_change_24h: '-0.0141945452235292',
      high_24h: '1.0002853662594098',
    },
    {
      id: 'usd-coin',
      rank: '4',
      symbol: 'USDC',
      name: 'USD Coin',
      supply: '54199364133.4828950000000000',
      maxSupply: null,
      market_cap: '54120501076.0668238294481782',
      total_volume: '1635220408.8384388188357418',
      current_price: '0.9985449449697999',
      price_change_24h: '-0.0955211532641779',
      high_24h: '1.0003508009482778',
    },
    {
      id: 'binance-coin',
      rank: '5',
      symbol: 'BNB',
      name: 'BNB',
      supply: '166801148.0000000000000000',
      maxSupply: '166801148.0000000000000000',
      market_cap: '52439674534.8611545591519616',
      total_volume: '591371669.9838112001717634',
      current_price: '314.3843742302130592',
      price_change_24h: '3.2112136798991749',
      high_24h: '306.8679752615906443',
    },
  ];

  test('Test if coins are loaded correctly', () => {
    expect(Coins(initial, fetchCoins(loadedCoin)).crypto).toEqual(loadedCoin);
  });
});